import React, { useState, useEffect, useRef } from 'react';
import { 
  Book, Menu, X, ChevronRight, GraduationCap, Globe, Users, Heart, Activity, 
  Home, School, Sparkles, CheckCircle, Loader2, Volume2, Languages, RefreshCw, Check, AlertCircle 
} from 'lucide-react';

const apiKey = ""; // Gemini API Key injected by environment

// --- Helper: Call Gemini API ---
const callGeminiAPI = async (prompt) => {
  try {
    const response = await fetch(
      `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`,
      {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] }),
      }
    );
    if (!response.ok) throw new Error(`API Error: ${response.status}`);
    const data = await response.json();
    return data.candidates?.[0]?.content?.parts?.[0]?.text || "Error";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return null;
  }
};

// --- Helper: Text to Speech ---
const speakText = (text) => {
  if (!window.speechSynthesis) return;
  window.speechSynthesis.cancel();
  const utterance = new SpeechSynthesisUtterance(text);
  const isArabic = /[\u0600-\u06FF]/.test(text);
  utterance.lang = isArabic ? 'ar-SA' : 'en-US';
  window.speechSynthesis.speak(utterance);
};

// --- Component: Text Selection Tooltip ---
const TextSelectionTool = () => {
  const [selection, setSelection] = useState(null);
  const [translation, setTranslation] = useState(null);
  const [loading, setLoading] = useState(false);
  const tooltipRef = useRef(null);

  useEffect(() => {
    const handleSelectionChange = () => {
      const selectedText = window.getSelection().toString().trim();
      if (!selectedText) {
        setSelection(null);
        setTranslation(null);
        return;
      }

      const range = window.getSelection().getRangeAt(0);
      const rect = range.getBoundingClientRect();
      
      setSelection({
        text: selectedText,
        top: rect.top + window.scrollY - 50, // Position above text
        left: rect.left + window.scrollX + (rect.width / 2),
      });
    };

    document.addEventListener('mouseup', handleSelectionChange);
    return () => document.removeEventListener('mouseup', handleSelectionChange);
  }, []);

  const handleTranslate = async () => {
    if (!selection) return;
    setLoading(true);
    const prompt = `Translate the following text to Arabic (if English) or English (if Arabic). Provide ONLY the translation. Text: "${selection.text}"`;
    const result = await callGeminiAPI(prompt);
    setTranslation(typeof result === 'string' ? result : "Translation unavailable");
    setLoading(false);
  };

  if (!selection) return null;

  return (
    <div 
      ref={tooltipRef}
      className="absolute z-50 flex flex-col items-center transform -translate-x-1/2 bg-white rounded-lg shadow-xl border border-gray-200 p-2 animate-in fade-in zoom-in duration-200"
      style={{ top: selection.top, left: selection.left }}
    >
      <div className="flex space-x-2">
        <button 
          onClick={() => speakText(selection.text)}
          className="p-2 hover:bg-blue-50 text-blue-600 rounded-full transition-colors tooltip-btn"
          title="نطق"
        >
          <Volume2 className="w-5 h-5" />
        </button>
        <div className="w-px bg-gray-200 mx-1"></div>
        <button 
          onClick={handleTranslate}
          className="p-2 hover:bg-green-50 text-green-600 rounded-full transition-colors tooltip-btn"
          title="ترجمة"
        >
          <Languages className="w-5 h-5" />
        </button>
      </div>
      
      {(loading || translation) && (
        <div className="absolute top-full mt-2 w-64 bg-gray-800 text-white text-sm p-3 rounded-lg shadow-lg text-center">
          {loading ? (
            <Loader2 className="w-4 h-4 animate-spin mx-auto" />
          ) : (
            <div dir="auto">{translation}</div>
          )}
          <div className="absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-gray-800 rotate-45"></div>
        </div>
      )}
    </div>
  );
};

// --- Component: Matching Question ---
const MatchingQuestion = ({ question, onChange, userAnswer }) => {
  const [shuffledRight, setShuffledRight] = useState([]);

  useEffect(() => {
    if (question.pairs && Array.isArray(question.pairs)) {
      // Validate pairs have left/right structure
      const validPairs = question.pairs.filter(p => p && p.right);
      const rightOptions = validPairs.map(p => p.right);
      setShuffledRight([...rightOptions].sort(() => Math.random() - 0.5));
    }
  }, [question]);

  if (!question.pairs || !Array.isArray(question.pairs)) return <div>Invalid Matching Data</div>;

  const handleChange = (leftItem, rightItem) => {
    const newAnswer = { ...(userAnswer || {}), [leftItem]: rightItem };
    onChange(newAnswer);
  };

  return (
    <div className="space-y-4">
      <p className="font-medium text-gray-800 mb-2">{question.text}</p>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div className="space-y-2">
          {question.pairs.map((pair, idx) => (
            <div key={idx} className="flex items-center justify-between bg-gray-50 p-3 rounded border h-12">
              <span className="text-sm font-medium line-clamp-2">{pair.left || "???"}</span>
              <ChevronRight className="w-4 h-4 text-gray-400 mx-2 flex-shrink-0" />
            </div>
          ))}
        </div>
        <div className="space-y-2">
          {question.pairs.map((pair, idx) => (
            <div key={idx} className="h-12">
                <select
                className="w-full h-full p-2 bg-white border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none"
                onChange={(e) => handleChange(pair.left, e.target.value)}
                value={userAnswer?.[pair.left] || ""}
                >
                <option value="">-- اختر الإجابة --</option>
                {shuffledRight.map((opt, i) => (
                    <option key={i} value={opt}>{opt}</option>
                ))}
                </select>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
};

// --- Component: Quiz Section ---
const QuizSection = ({ chapterTitle, initialQuestions, rawText }) => {
  const [questions, setQuestions] = useState(initialQuestions || []);
  const [userAnswers, setUserAnswers] = useState({});
  const [showResults, setShowResults] = useState(false);
  const [loadingMore, setLoadingMore] = useState(false);
  const [score, setScore] = useState(0);

  const handleAnswerChange = (qId, answer) => {
    if (showResults) return; 
    setUserAnswers(prev => ({ ...prev, [qId]: answer }));
  };

  const calculateScore = () => {
    let newScore = 0;
    questions.forEach(q => {
      const userAns = userAnswers[q.id];
      if (!userAns) return;

      if (q.type === 'matching' && q.pairs && Array.isArray(q.pairs)) {
        let correctPairs = 0;
        q.pairs.forEach(pair => {
           if (userAns[pair.left] === pair.right) correctPairs++;
        });
        if (correctPairs === q.pairs.length) newScore++;
      } else {
        if (userAns === q.correctAnswer) newScore++;
      }
    });
    setScore(newScore);
    setShowResults(true);
  };

  const generateMoreQuestions = async () => {
    setLoadingMore(true);
    // Updated prompt to enforce correct JSON structure for matching and add translation questions
    const prompt = `Create a valid JSON array with 4 new quiz questions based on this text: "${rawText.substring(0, 1500)}...". 
    
    STRICTLY FOLLOW this structure for the array items:
    1. ONE 'mcq' (Multiple Choice): { "type": "mcq", "text": "Question?", "options": ["A", "B", "C", "D"], "correctAnswer": "A" }
    2. ONE 'tf' (True/False): { "type": "tf", "text": "Statement?", "correctAnswer": true }
    3. ONE 'matching' (Matching): { "type": "matching", "text": "Match the following", "pairs": [{ "left": "Term 1", "right": "Def 1" }, { "left": "Term 2", "right": "Def 2" }] }
    4. ONE 'mcq' (Translation): { "type": "mcq", "text": "Translate the word 'WORD' to Arabic:", "options": ["Correct", "Wrong1", "Wrong2", "Wrong3"], "correctAnswer": "Correct" }

    IMPORTANT: For 'matching', ensuring 'pairs' is an array of objects with keys 'left' and 'right'. Do NOT use strings.
    Return ONLY valid JSON.`;

    const response = await callGeminiAPI(prompt);
    try {
      if (!response) throw new Error("No response from API");
      const jsonMatch = response.match(/\[[\s\S]*\]/);
      const cleanJson = jsonMatch ? jsonMatch[0] : response.replace(/```json/g, '').replace(/```/g, '').trim();
      
      const newQuestions = JSON.parse(cleanJson);
      
      if (Array.isArray(newQuestions)) {
        // Validate and sanitize questions
        const validQuestions = newQuestions.map((q, idx) => {
            // Fix potential structure issues for matching
            if (q.type === 'matching') {
                if (!Array.isArray(q.pairs)) return null;
                // Ensure pairs are objects {left, right}
                q.pairs = q.pairs.filter(p => typeof p === 'object' && p.left && p.right);
                if (q.pairs.length === 0) return null;
            }
            if (q.type === 'mcq' && (!Array.isArray(q.options) || q.options.length < 2)) return null;
            
            return {
                ...q,
                id: `gen_${Date.now()}_${idx}`
            };
        }).filter(Boolean); // Remove nulls
        
        if (validQuestions.length > 0) {
          setQuestions(prev => [...prev, ...validQuestions]);
          setShowResults(false);
        } else {
           alert("حدث خطأ في تنسيق الأسئلة، يرجى المحاولة مرة أخرى.");
        }
      }
    } catch (e) {
      console.error("Failed to parse AI quiz", e);
      alert("حدث خطأ أثناء توليد الأسئلة. الرجاء المحاولة مرة أخرى.");
    }
    setLoadingMore(false);
  };

  const resetQuiz = () => {
    setUserAnswers({});
    setShowResults(false);
    setScore(0);
  };

  return (
    <div className="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mt-8">
      <div className="bg-gradient-to-r from-indigo-50 to-blue-50 p-6 border-b border-gray-200 flex justify-between items-center">
        <div>
           <h3 className="text-xl font-bold text-indigo-900 flex items-center gap-2">
             <CheckCircle className="w-6 h-6 text-indigo-600" />
             اختبار تفاعلي: {chapterTitle}
           </h3>
           <p className="text-gray-500 text-sm mt-1">اختبر معلوماتك في هذا الفصل. يمكنك توليد المزيد من الأسئلة!</p>
        </div>
        <div className="text-right">
           {showResults && (
             <div className="text-2xl font-bold text-green-600">
               {score} / {questions.length}
             </div>
           )}
        </div>
      </div>

      <div className="p-6 space-y-8">
        {questions.length === 0 && <p className="text-center text-gray-500">لا توجد أسئلة حالياً. اضغط على "إنشاء المزيد"!</p>}
        
        {questions.map((q, index) => (
          <div key={q.id} className="p-4 rounded-lg border border-gray-100 bg-gray-50 hover:bg-white hover:shadow-md transition-all animate-in fade-in duration-300">
            <div className="flex items-start gap-3 mb-3">
              <span className="bg-indigo-100 text-indigo-700 text-xs font-bold px-2 py-1 rounded">Q{index + 1}</span>
              <span className="text-xs text-gray-400 uppercase tracking-wider">{q.type === 'tf' ? 'True/False' : q.type}</span>
            </div>

            <div>
              {q.type === 'mcq' && Array.isArray(q.options) && (
                <>
                  <p className="font-semibold text-gray-800 mb-3 text-lg">{q.text}</p>
                  <div className="grid grid-cols-1 gap-2">
                    {q.options.map((opt, i) => {
                      const isSelected = userAnswers[q.id] === opt;
                      const isCorrect = q.correctAnswer === opt;
                      let optionClass = "border-gray-200 hover:bg-gray-100";
                      
                      if (showResults) {
                        if (isCorrect) optionClass = "bg-green-100 border-green-500 text-green-800";
                        else if (isSelected && !isCorrect) optionClass = "bg-red-100 border-red-500 text-red-800";
                        else if (!isSelected && !isCorrect) optionClass = "opacity-50";
                      } else {
                        if (isSelected) optionClass = "bg-blue-100 border-blue-500 text-blue-900";
                      }

                      return (
                        <button
                          key={i}
                          onClick={() => handleAnswerChange(q.id, opt)}
                          disabled={showResults}
                          className={`w-full text-left p-3 rounded-lg border transition-all flex items-center justify-between ${optionClass}`}
                        >
                          <span>{opt}</span>
                          {showResults && isCorrect && <Check className="w-5 h-5 text-green-600" />}
                          {showResults && isSelected && !isCorrect && <X className="w-5 h-5 text-red-600" />}
                        </button>
                      );
                    })}
                  </div>
                </>
              )}

              {q.type === 'tf' && (
                <>
                  <p className="font-semibold text-gray-800 mb-3 text-lg">{q.text}</p>
                  <div className="flex gap-4">
                    {[true, false].map((val) => {
                      const isSelected = userAnswers[q.id] === val;
                      const isCorrect = q.correctAnswer === val;
                      let btnClass = "bg-white border-gray-200 hover:bg-gray-50";
                      
                      if (showResults) {
                        if (isCorrect) btnClass = "bg-green-100 border-green-500 text-green-800";
                        else if (isSelected && !isCorrect) btnClass = "bg-red-100 border-red-500 text-red-800";
                        else btnClass = "opacity-50";
                      } else if (isSelected) {
                        btnClass = "bg-blue-600 text-white border-blue-600";
                      }

                      return (
                        <button
                          key={val.toString()}
                          onClick={() => handleAnswerChange(q.id, val)}
                          disabled={showResults}
                          className={`flex-1 py-3 px-6 rounded-lg border font-bold transition-all ${btnClass}`}
                        >
                          {val ? "True (صح)" : "False (خطأ)"}
                        </button>
                      );
                    })}
                  </div>
                </>
              )}

              {q.type === 'matching' && Array.isArray(q.pairs) && (
                <MatchingQuestion 
                  question={q} 
                  userAnswer={userAnswers[q.id]} 
                  onChange={(ans) => handleAnswerChange(q.id, ans)}
                />
              )}
              
              {/* Fallback for malformed questions */}
              {((q.type === 'mcq' && !Array.isArray(q.options)) || (q.type === 'matching' && (!Array.isArray(q.pairs) || q.pairs.length === 0))) && (
                 <div className="p-4 bg-red-50 text-red-600 text-sm rounded border border-red-200 flex items-center gap-2">
                   <AlertCircle className="w-4 h-4" />
                   عذراً، حدث خطأ في عرض هذا السؤال (بيانات غير صالحة).
                 </div>
              )}
            </div>
          </div>
        ))}

        <div className="flex flex-col md:flex-row gap-4 pt-4 border-t">
          {!showResults ? (
            <button onClick={calculateScore} className="flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition-colors flex justify-center items-center gap-2">
              <CheckCircle className="w-5 h-5" /> تأكيد الإجابات
            </button>
          ) : (
            <button onClick={resetQuiz} className="flex-1 bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-lg transition-colors flex justify-center items-center gap-2">
              <RefreshCw className="w-5 h-5" /> إعادة المحاولة
            </button>
          )}

          <button onClick={generateMoreQuestions} disabled={loadingMore} className="flex-1 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white font-bold py-3 px-6 rounded-lg transition-all flex justify-center items-center gap-2 shadow-md disabled:opacity-70">
            {loadingMore ? <Loader2 className="w-5 h-5 animate-spin" /> : <Sparkles className="w-5 h-5" />}
            {loadingMore ? "جاري التوليد..." : "إنشاء المزيد من الأسئلة"}
          </button>
        </div>
      </div>
    </div>
  );
};

// --- DATA: Full Content with ARABIC TRANSLATIONS ---
const chaptersData = [
  {
    id: 1,
    title: "Chapter 1: Social work as a profession",
    icon: <Users className="w-5 h-5" />,
    rawText: "Social work as a profession. The words: Humane profession, The Societal Condition, Social Functioning, Appreciate, Ethnicity, Discrimination, Sincere, Receptive, Religion statue, Political belief, Prejudice, Affirming individuality, Purposeful expression of Feeling...",
    quizData: [
      { id: 'c1_q1', type: 'mcq', text: "The translation of 'The societal condition' is:", options: ["الظروف الاسرية", "المشكلات الاجتماعية", "الظروف الاجتماعية", "المشكلات الاسرية"], correctAnswer: "الظروف الاجتماعية" },
      { id: 'c1_q2', type: 'mcq', text: "Purposeful expression of feeling means:", options: ["speaking about", "Feel", "Explain what my opinion", "speaking about my belief"], correctAnswer: "speaking about" },
      { id: 'c1_q3', type: 'mcq', text: "Social work is a professional activity of helping individual, groups... (The best title is):", options: ["principles of social work", "Aims of social work", "Method of social work", "Definition of social work"], correctAnswer: "Definition of social work" },
      { id: 'c1_q4', type: 'mcq', text: "All of the Following consider the Principle of social work ((except)):", options: ["The acceptance", "The objectivity", "The Social change", "The Confidentiality"], correctAnswer: "The Social change" },
      { id: 'c1_q5', type: 'mcq', text: "Humane Profession mean:", options: ["A profession Concerned with needs and problem of people", "A profession Concerned with inventions", "A profession Concerned with business", "A profession Concerned with agriculture"], correctAnswer: "A profession Concerned with needs and problem of people" },
      { id: 'c1_q6', type: 'mcq', text: "The word (Sincere) mean that:", options: ["Telling the truth", "say what i want", "Say what i can do", "Hid the truth"], correctAnswer: "Telling the truth" }
    ],
    content: (
      <div className="space-y-6">
        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* The words:-</h3>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4 bg-white p-4 rounded-lg shadow-sm">
             <div className="border-b md:border-b-0 md:border-r pb-2 md:pb-0">
               <ul className="space-y-2">
                 <li className="flex justify-between"><span>1. Humane profession</span> <span className="text-gray-600 font-arabic font-bold" dir="rtl">مهنة انسانية</span></li>
                 <li className="flex justify-between"><span>2. The Societal Condition</span> <span className="text-gray-600 font-arabic font-bold" dir="rtl">الظروف المجتمعية</span></li>
                 <li className="flex justify-between"><span>3. Social Functioning</span> <span className="text-gray-600 font-arabic font-bold" dir="rtl">الاداء الاجتماعى</span></li>
                 <li className="flex justify-between"><span>4. Appreciate</span> <span className="text-gray-600 font-arabic font-bold" dir="rtl">مقدر</span></li>
                 <li className="flex justify-between"><span>5. Ethnicity</span> <span className="text-gray-600 font-arabic font-bold" dir="rtl">العرق ( الاصول العرقية )</span></li>
                 <li className="flex justify-between"><span>6. Discrimination</span> <span className="text-gray-600 font-arabic font-bold" dir="rtl">التمييز العنصرى</span></li>
                 <li className="flex justify-between"><span>7. Sincere</span> <span className="text-gray-600 font-arabic font-bold" dir="rtl">صادق</span></li>
               </ul>
             </div>
             <div>
               <ul className="space-y-2">
                 <li className="flex justify-between"><span>8. Receptive</span> <span className="text-gray-600 font-arabic font-bold" dir="rtl">متقبل</span></li>
                 <li className="flex justify-between"><span>9. Religion statue</span> <span className="text-gray-600 font-arabic font-bold" dir="rtl">الحالة العقائدية</span></li>
                 <li className="flex justify-between"><span>10. Political belief</span> <span className="text-gray-600 font-arabic font-bold" dir="rtl">معتقدات سياسية</span></li>
                 <li className="flex justify-between"><span>11. Prejudice</span> <span className="text-gray-600 font-arabic font-bold" dir="rtl">تعصب / تحيز</span></li>
                 <li className="flex justify-between"><span>12. Affirming individuality</span> <span className="text-gray-600 font-arabic font-bold" dir="rtl">تأكيد الفردية</span></li>
                 <li className="flex justify-between"><span>13. Purposeful expression of Felling</span> <span className="text-gray-600 font-arabic font-bold" dir="rtl">التعبير الهادف عن المشاعر</span></li>
               </ul>
             </div>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Definition of social work:-</h3>
          <div className="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-600 space-y-4">
            <div>
              <p className="font-medium text-gray-900 mb-1">(1) social work is a professional activity of helping individual, groups, Communities to enhance or restore their capacity For Social Functioning and create societal Condition Favorable.</p>
              <p className="text-gray-600 font-arabic text-right text-sm border-t border-blue-200 pt-1 mt-1" dir="rtl">
                (1) الخدمة الاجتماعية هي نشاط مهني لمساعدة الأفراد والجماعات والمجتمعات على تعزيز أو استعادة قدرتهم على الأداء الاجتماعي وخلق ظروف مجتمعية مواتية.
              </p>
            </div>
            <div>
              <p className="font-medium text-gray-900 mb-1">(2) Is a professional and academic discipline that seeks to improve the quality of life and subjective well-being of individual, groups and Communities through research, Policy, Community organization direct practice, crisis intervention and teaching For the benefit of those affected by social disadvantages such as poverty, mental and physical illness or disability and social injustice including Violations of their civil liberties human rights.</p>
              <p className="text-gray-600 font-arabic text-right text-sm border-t border-blue-200 pt-1 mt-1" dir="rtl">
                (2) هي تخصص مهني وأكاديمي يسعى لتحسين نوعية الحياة والرفاهية الذاتية للأفراد والجماعات والمجتمعات من خلال البحث والسياسات وتنظيم المجتمع والممارسة المباشرة والتدخل في الأزمات والتدريس لصالح المتضررين من المساوئ الاجتماعية مثل الفقر والمرض العقلي والجسدي أو الإعاقة والظلم الاجتماعي بما في ذلك انتهاكات حرياتهم المدنية وحقوق الإنسان.
              </p>
            </div>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">The Purpose of social work:-</h3>
          <div className="bg-white p-6 rounded-lg shadow-sm space-y-4">
            <div>
              <p className="font-medium mb-1">(1) promote human and Community well-being guided by a person and environment construct, a global perspective, respect For human diversity and knowledge based Scientific inquiry, social work's Purpose is actualized through its quest For social and economic Justice, the prevention of condition that limit human rights, the elimination of Poverty, and the enhancement of the quality of life.</p>
              <p className="text-gray-600 font-arabic text-right text-sm border-t pt-1 mt-1" dir="rtl">
                (1) تعزيز رفاهية الإنسان والمجتمع مسترشدة ببناء الشخص والبيئة، ومنظور عالمي، واحترام التنوع البشري والمعرفة القائمة على البحث العلمي. يتحقق هدف الخدمة الاجتماعية من خلال سعيها لتحقيق العدالة الاجتماعية والاقتصادية، ومنع الظروف التي تحد من حقوق الإنسان، والقضاء على الفقر، وتعزيز نوعية الحياة.
              </p>
            </div>
            <div>
              <p className="font-medium mb-1">(2) Framing Social works commitment to respect for the dignity and worth all people and The profession's quest For Social Justice, the core Values of social work, also set the standards For what is desirable in practice.</p>
              <p className="text-gray-600 font-arabic text-right text-sm border-t pt-1 mt-1" dir="rtl">
                (2) صياغة التزام الخدمة الاجتماعية باحترام كرامة وقيمة جميع الناس وسعي المهنة لتحقيق العدالة الاجتماعية، والقيم الجوهرية للخدمة الاجتماعية، تضع أيضًا المعايير لما هو مرغوب فيه في الممارسة.
              </p>
            </div>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Aims of social work:-</h3>
          <p className="mb-2">It aims to help their clients to:</p>
          <ul className="list-disc pl-6 space-y-4 bg-white p-4 rounded-lg shadow-sm">
            <li>
              <span>1- develop their abilities.</span>
              <p className="text-gray-500 text-sm mt-1" dir="rtl">1- تنمية قدراتهم.</p>
            </li>
            <li>
              <span>2- Change their attitude and behaviors.</span>
              <p className="text-gray-500 text-sm mt-1" dir="rtl">2- تغيير اتجاهاتهم وسلوكياتهم.</p>
            </li>
            <li>
              <span>3- Satisfy their needs.</span>
              <p className="text-gray-500 text-sm mt-1" dir="rtl">3- إشباع احتياجاتهم.</p>
            </li>
            <li>
              <span>4- Coping and solve their problems</span>
              <p className="text-gray-500 text-sm mt-1" dir="rtl">4- التكيف وحل مشكلاتهم.</p>
            </li>
            <li>
              <span>5- identify and strengthen the maximum Potential in individual groups and Communities.</span>
              <p className="text-gray-500 text-sm mt-1" dir="rtl">5- تحديد وتعزيز أقصى الإمكانات لدى الأفراد والجماعات والمجتمعات.</p>
            </li>
            <li>
              <span>6- to link people with system (agencies and associations) that provide them with resources and services and opportunities.</span>
              <p className="text-gray-500 text-sm mt-1" dir="rtl">6- ربط الناس بالأنظمة (الوكالات والجمعيات) التي تزودهم بالموارد والخدمات والفرص.</p>
            </li>
            <li>
              <span>7- To promote the effective and human operation of the systems that provides People with resources and services.</span>
              <p className="text-gray-500 text-sm mt-1" dir="rtl">7- تعزيز التشغيل الفعال والإنساني للأنظمة التي تزود الناس بالموارد والخدمات.</p>
            </li>
            <li>
              <span>8- To promote interaction between people and their environment, to create the human Conditions it is change to the better and the environment change in balance way.</span>
              <p className="text-gray-500 text-sm mt-1" dir="rtl">8- تعزيز التفاعل بين الناس وبيئتهم، لخلق الظروف الإنسانية للتغيير للأفضل وتغيير البيئة بطريقة متوازنة.</p>
            </li>
          </ul>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* principles of social work:-</h3>
          <ul className="space-y-4">
            <li className="bg-white p-4 rounded border-l-4 border-green-500">
              <span className="font-bold block text-lg">1. The objectivity :-</span>
              be objective in observation and understanding. Avoid injecting personal Feeling and prejudices
              <p className="text-gray-600 text-sm mt-2 pt-2 border-t" dir="rtl">
                <strong>1. الموضوعية:</strong> كن موضوعيًا في الملاحظة والفهم. تجنب إقحام المشاعر الشخصية والتحيزات.
              </p>
            </li>
            <li className="bg-white p-4 rounded border-l-4 border-green-500">
              <span className="font-bold block text-lg">2. The self-determination :-</span>
              Recognition of the right of client to make decision to his life.
              <p className="text-gray-600 text-sm mt-2 pt-2 border-t" dir="rtl">
                <strong>2. حق تقرير المصير:</strong> الاعتراف بحق العميل في اتخاذ القرارات المتعلقة بحياته.
              </p>
            </li>
            <li className="bg-white p-4 rounded border-l-4 border-green-500">
              <span className="font-bold block text-lg">3. Confidentiality :-</span>
              Respect the privacy of your client.
              <p className="text-gray-600 text-sm mt-2 pt-2 border-t" dir="rtl">
                <strong>3. السرية:</strong> احترام خصوصية عميلك.
              </p>
            </li>
            <li className="bg-white p-4 rounded border-l-4 border-green-500">
              <span className="font-bold block text-lg">4. The acceptance:-</span>
              Accept the client as he is regardless his thinking, opinion, Felling, Condition
              <p className="text-gray-600 text-sm mt-2 pt-2 border-t" dir="rtl">
                <strong>4. التقبل:</strong> قبول العميل كما هو بغض النظر عن تفكيره أو رأيه أو مشاعره أو حالته.
              </p>
            </li>
            <li className="bg-white p-4 rounded border-l-4 border-green-500">
              <span className="font-bold block text-lg">5. Affirming individuality :-</span>
              Respect the individual differences between clients.
              <p className="text-gray-600 text-sm mt-2 pt-2 border-t" dir="rtl">
                <strong>5. تأكيد الفردية:</strong> احترام الفروق الفردية بين العملاء.
              </p>
            </li>
            <li className="bg-white p-4 rounded border-l-4 border-green-500">
              <span className="font-bold block text-lg">6. Purposeful expression of Feeling :-</span>
              The client need to have the opportunities to express their Feeling.
              <p className="text-gray-600 text-sm mt-2 pt-2 border-t" dir="rtl">
                <strong>6. التعبير الهادف عن المشاعر:</strong> يحتاج العميل إلى الحصول على فرص للتعبير عن مشاعره.
              </p>
            </li>
          </ul>
        </section>

        <section>
           <h3 className="text-xl font-bold text-blue-800 mb-4">* social workers :-</h3>
           <div className="bg-white p-6 rounded-lg shadow-sm space-y-4">
            <div>
              <p>A Person who practices social work is called a social worker, through a Bachelor or Mastres degree in social work. the professional Person in Social work, who is qualified theoretically and practically, in one of the scientific and educational institutions For Social work.</p>
              <p className="text-gray-600 text-sm mt-2" dir="rtl">الشخص الذي يمارس الخدمة الاجتماعية يسمى الأخصائي الاجتماعي، من خلال درجة البكالوريوس أو الماجستير في الخدمة الاجتماعية. هو الشخص المهني في الخدمة الاجتماعية المؤهل نظريًا وعمليًا في إحدى المؤسسات العلمية والتعليمية للخدمة الاجتماعية.</p>
            </div>
            <div>
              <p>Social workers should be concerned with the whole person, within the Family, Community, societal and natural environments, and should seek to recognize all aspects of a person's life.</p>
              <p className="text-gray-600 text-sm mt-2" dir="rtl">يجب أن يهتم الأخصائيون الاجتماعيون بالشخص ككل، داخل الأسرة والمجتمع والبيئات المجتمعية والطبيعية، ويجب أن يسعوا للتعرف على جميع جوانب حياة الشخص.</p>
            </div>
            <div>
              <p>Social workers should Focus on the strength of all individuals, groups and Communities and thus promote their empowerment.</p>
              <p className="text-gray-600 text-sm mt-2" dir="rtl">يجب أن يركز الأخصائيون الاجتماعيون على نقاط القوة لدى جميع الأفراد والجماعات والمجتمعات وبالتالي تعزيز تمكينهم.</p>
            </div>
           </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Social workers should have:</h3>
          <ul className="list-decimal pl-6 bg-white p-4 rounded-lg shadow-sm">
            <li className="mb-2">The ability to listen. <span className="text-gray-500 text-sm block" dir="rtl">القدرة على الاستماع.</span></li>
            <li className="mb-2">The ability to Communicate well For the clients. <span className="text-gray-500 text-sm block" dir="rtl">القدرة على التواصل الجيد مع العملاء.</span></li>
            <li className="mb-2">The Knowledge of clients' needs and problems <span className="text-gray-500 text-sm block" dir="rtl">معرفة احتياجات ومشاكل العملاء.</span></li>
            <li className="mb-2">The Knowledge of available Community Service <span className="text-gray-500 text-sm block" dir="rtl">معرفة خدمة المجتمع المتاحة.</span></li>
          </ul>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Social workers need to be:</h3>
          <ul className="list-decimal pl-6 bg-white p-4 rounded-lg shadow-sm grid grid-cols-1 md:grid-cols-2 gap-2">
            <li>Emotionally mature. <span className="text-gray-500 text-xs block" dir="rtl">ناضج عاطفياً.</span></li>
            <li>objective. <span className="text-gray-500 text-xs block" dir="rtl">موضوعي.</span></li>
            <li>Honest <span className="text-gray-500 text-xs block" dir="rtl">صادق/أمين.</span></li>
            <li>Resourceful <span className="text-gray-500 text-xs block" dir="rtl">واسع الحيلة.</span></li>
            <li>self awareness <span className="text-gray-500 text-xs block" dir="rtl">الوعي الذاتي.</span></li>
            <li>Self Confidence <span className="text-gray-500 text-xs block" dir="rtl">الثقة بالنفس.</span></li>
            <li>Trust in People in most times. <span className="text-gray-500 text-xs block" dir="rtl">الثقة في الناس في معظم الأوقات.</span></li>
            <li>Respect to their professional values and ethics. <span className="text-gray-500 text-xs block" dir="rtl">احترام قيمهم وأخلاقياتهم المهنية.</span></li>
            <li>Sensitive to people and their problem: <span className="text-gray-500 text-xs block" dir="rtl">حساس تجاه الناس ومشاكلهم.</span></li>
          </ul>
        </section>
      </div>
    )
  },
  {
    id: 2,
    title: "Chapter 2: The systems Dealing From Perspective Generalist Practice of social work",
    icon: <Globe className="w-5 h-5" />,
    rawText: "The systems Dealing From Perspective Generalist Practice of social work. Words: Generalist practice, The target system, The action system, Satisfaction, Specific, Solve problem, Achievement, The Perspective, Approaches, Appeared, Human distress, Dealing, Utilizing, Interacts, The problem identification system...",
    quizData: [
      { id: 'c2_q1', type: 'tf', text: "The change agent system that is individual family, group, etc which Come to the agency seeking the helping", correctAnswer: false },
      { id: 'c2_q2', type: 'tf', text: "The action system, this system is used to describe those with whom is social worker interacts in Cooperative way to accomplish the purpose of change effort", correctAnswer: true },
      { id: 'c2_q3', type: 'tf', text: "The problem identification system this system that acts by brings a potential client to attention of the social worker.", correctAnswer: true },
      { id: 'c2_q4', type: 'tf', text: "The professional system, this system which giving helping to client system such as social worker agency or organization, which may be Viewed as change agent.", correctAnswer: false },
      { id: 'c2_q5', type: 'matching', text: "Match the System", pairs: [
        { left: "The action system", right: "interacts in Cooperative way to accomplish the purpose of change effort" },
        { left: "The change agent system", right: "This system which giving helping to client system, such as: social workers" },
        { left: "Social worker", right: "The Person who is qualified Theoretically and Practically" },
        { left: "Client System", right: "which come to the agency seeking the helping to satisfaction Specific need" }
      ]}
    ],
    content: (
      <div className="space-y-6">
        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* The words :-</h3>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4 bg-white p-4 rounded-lg shadow-sm">
            <ul className="space-y-2">
              <li className="flex justify-between"><span>1. Generalist practice</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">الممارسة العامة</span></li>
              <li className="flex justify-between"><span>2. The target system</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">نسق الهدف</span></li>
              <li className="flex justify-between"><span>3. The action system</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">نسق الفعل</span></li>
              <li className="flex justify-between"><span>4. Satisfaction</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">اشباع / ارضاء</span></li>
              <li className="flex justify-between"><span>5. Specific</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">محدد</span></li>
              <li className="flex justify-between"><span>6. Solve problem</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">حل المشكلة</span></li>
              <li className="flex justify-between"><span>7. Achievement</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">تحقيق</span></li>
              <li className="flex justify-between"><span>8. The Perspective</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">منظور</span></li>
            </ul>
            <ul className="space-y-2">
              <li className="flex justify-between"><span>9. Approaches</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">اتجاهات علمية</span></li>
              <li className="flex justify-between"><span>10. Appeared</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">ظهر</span></li>
              <li className="flex justify-between"><span>11. Human distress</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">محنة / ضائقة إنسانية</span></li>
              <li className="flex justify-between"><span>12. Dealing</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">التعامل</span></li>
              <li className="flex justify-between"><span>13. Utilizing</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">استخدام</span></li>
              <li className="flex justify-between"><span>14. Interacts</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">التفاعل</span></li>
              <li className="flex justify-between"><span>15. The problem identification system</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">نسق تحديد المشكلة</span></li>
            </ul>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Introduction:</h3>
          <div className="bg-white p-6 rounded-lg shadow-sm space-y-4">
            <div>
              <p>The perspective of generalist practice of Social work one approach which appeared in late 20 Century to achievement the Societies goals, well-being quality of life, Conditions For the people human distress and social problem.</p>
              <p className="text-gray-600 text-sm mt-2" dir="rtl">منظور الممارسة العامة للخدمة الاجتماعية هو أحد المناهج التي ظهرت في أواخر القرن العشرين لتحقيق أهداف المجتمعات، والرفاهية ونوعية الحياة، والظروف الملائمة للناس في المحن والمشكلات الاجتماعية.</p>
            </div>
            <div>
              <p>The generalist practice of social work with the client (individual, Families groups, Societies) to improve their will-being Life through utilizing method, model approaches of generalist practice during work with this system</p>
              <p className="text-gray-600 text-sm mt-2" dir="rtl">الممارسة العامة للخدمة الاجتماعية مع العميل (أفراد، أسر، جماعات، مجتمعات) لتحسين رفاهية حياتهم من خلال استخدام طرق ونماذج ومناهج الممارسة العامة أثناء العمل مع هذا النظام.</p>
            </div>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* The systems dealing From Perspective generalist practice:.</h3>
          <div className="space-y-4">
            <div className="bg-blue-50 p-4 rounded-lg">
              <h4 className="font-bold text-lg mb-2">1- client system (نسق العميل)</h4>
              <p>(individual Family, group, ....etc) which Come to the agency seeking the helping to satisfaction specific need or solve problem.</p>
              <p className="text-gray-600 text-sm mt-1" dir="rtl">(فرد، أسرة، جماعة...إلخ) الذين يأتون إلى المؤسسة طلبًا للمساعدة لإشباع حاجة محددة أو حل مشكلة.</p>
            </div>
            <div className="bg-blue-50 p-4 rounded-lg">
              <h4 className="font-bold text-lg mb-2">2- Target system (نسق الهدف)</h4>
              <p>They need to change or influence to achievent their goals. The target system often overlaps when it is the client Part in intersystem transaction the need to be changed.</p>
              <p className="text-gray-600 text-sm mt-1" dir="rtl">هم الذين يحتاجون إلى تغيير أو تأثير لتحقيق أهدافهم. غالبًا ما يتداخل نظام الهدف عندما يكون جزء العميل في التعامل بين الأنظمة هو الذي يحتاج إلى التغيير.</p>
            </div>
            <div className="bg-blue-50 p-4 rounded-lg">
              <h4 className="font-bold text-lg mb-2">3- The change agent system (نسق مغير)</h4>
              <p>this system which giving helping to client system, such as: social worker agency or organization, which my be viewed as change agent.</p>
              <p className="text-gray-600 text-sm mt-1" dir="rtl">هذا النظام الذي يقدم المساعدة لنظام العميل، مثل: الأخصائي الاجتماعي، الوكالة أو المنظمة، والتي يمكن اعتبارها عامل التغيير.</p>
            </div>
            <div className="bg-blue-50 p-4 rounded-lg">
              <h4 className="font-bold text-lg mb-2">4- The action system (نسق الفعل)</h4>
              <p>This system is used to describe those with whom is social worker interacts in Cooperative way to accomplish the purpose of change effort action system may be (neighborhood group, Family, or other) that the social worker work with toward bringing about a chance helpful to the client.</p>
              <p className="text-gray-600 text-sm mt-1" dir="rtl">يستخدم هذا النظام لوصف أولئك الذين يتفاعل معهم الأخصائي الاجتماعي بطريقة تعاونية لتحقيق غرض جهد التغيير. قد يكون نظام العمل (مجموعة الحي، الأسرة، أو غيرهم) الذين يعمل معهم الأخصائي الاجتماعي نحو إحداث فرصة مفيدة للعميل.</p>
            </div>
            <div className="bg-blue-50 p-4 rounded-lg">
              <h4 className="font-bold text-lg mb-2">5- The professional system (النسق المهني)</h4>
              <p>the social worker of professional association of social workers or Faculties & institutional of social work by which workers are prepared (the educational system the values, Sanction and Culture of the professional practice influence the required and the permitted action of the worker as change agent and the professional system.</p>
              <p className="text-gray-600 text-sm mt-1" dir="rtl">الأخصائي الاجتماعي التابع للجمعية المهنية للأخصائيين الاجتماعيين أو الكليات ومؤسسات الخدمة الاجتماعية التي يتم من خلالها إعداد الأخصائيين (النظام التعليمي، القيم، الجزاءات وثقافة الممارسة المهنية تؤثر على العمل المطلوب والمسموح به للأخصائي كعامل تغيير والنظام المهني).</p>
            </div>
            <div className="bg-blue-50 p-4 rounded-lg">
              <h4 className="font-bold text-lg mb-2">6- The problem identification system (نسق تحديد المشكلة)</h4>
              <p>This system that acts by brings a potential client to attention of the social worker also it is Contact with the social worker or the change agent system.</p>
              <p className="text-gray-600 text-sm mt-1" dir="rtl">هذا النظام يعمل عن طريق لفت انتباه الأخصائي الاجتماعي إلى عميل محتمل، كما أنه يتصل بالأخصائي الاجتماعي أو نظام عامل التغيير.</p>
            </div>
          </div>
        </section>
      </div>
    )
  },
  {
    id: 3,
    title: "Chapter 3: The Human Needs",
    icon: <Heart className="w-5 h-5" />,
    rawText: "The Human Needs. Words: Professional Relationships, Assumption, Personal, status, Basic needs, Physical needs, Esteem needs, self-actualization need, Developmental, symbols, increases...",
    quizData: [
      { id: 'c3_q1', type: 'tf', text: "Basic need refer to needs For belongingness and love through intimacy and satisfying relationships.", correctAnswer: false }, 
      { id: 'c3_q2', type: 'tf', text: "The second level of human needs according to Maslow is esteem needs.", correctAnswer: false }, 
      { id: 'c3_q3', type: 'tf', text: "Human needs means: Circumstance requiring Some Course of action.", correctAnswer: true },
      { id: 'c3_q4', type: 'mcq', text: "feeling of being safe from both Physical and emotional injury:", options: ["physical needs", "safety needs", "social needs", "esteem needs"], correctAnswer: "safety needs" },
      { id: 'c3_q5', type: 'mcq', text: "sense of Personal worth :", options: ["basic needs", "esteem needs", "self-actualization needs", "psychological needs"], correctAnswer: "esteem needs" }
    ],
    content: (
      <div className="space-y-6">
        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* The words :-</h3>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4 bg-white p-4 rounded-lg shadow-sm">
            <ul className="space-y-2">
              <li className="flex justify-between"><span>1. Professional Relationships</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">العلاقة المهنية</span></li>
              <li className="flex justify-between"><span>2. Assumption</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">افتراضات</span></li>
              <li className="flex justify-between"><span>3. Personal</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">شخص</span></li>
              <li className="flex justify-between"><span>4. status</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">مكانة</span></li>
              <li className="flex justify-between"><span>5. Basic needs</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">حاجات اساسية</span></li>
              <li className="flex justify-between"><span>6. Physical needs</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">حاجات طبيعية</span></li>
              <li className="flex justify-between"><span>7. Esteem needs</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">الحاجة للتقدير</span></li>
              <li className="flex justify-between"><span>8. self-actualization need</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">الحاجة لاثبات الذات</span></li>
              <li className="flex justify-between"><span>9. Developmental</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">تنموي</span></li>
              <li className="flex justify-between"><span>10. symbols</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">رموز</span></li>
              <li className="flex justify-between"><span>11. increases</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">يزيد</span></li>
            </ul>
            <ul className="space-y-2">
              <li className="flex justify-between"><span>12. Physical Component</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">مكونات طبيعية الفيزيقية</span></li>
              <li className="flex justify-between"><span>13. Ecological needs</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">حاجات بيئية</span></li>
              <li className="flex justify-between"><span>14. Environmental</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">بيئي</span></li>
              <li className="flex justify-between"><span>15. Life cycle needs</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">دورة حياة الحاجات</span></li>
              <li className="flex justify-between"><span>16. Emotional</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">عاطفي / انفعالي</span></li>
              <li className="flex justify-between"><span>17. Frustration</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">احباط</span></li>
              <li className="flex justify-between"><span>18. Adaptation</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">تكيف</span></li>
              <li className="flex justify-between"><span>19. Adoption</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">تبني</span></li>
              <li className="flex justify-between"><span>20. Growth</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">نمو</span></li>
              <li className="flex justify-between"><span>21. Custom</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">تقاليد</span></li>
              <li className="flex justify-between"><span>22. Norms</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">عادات</span></li>
            </ul>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Definition of need :-</h3>
          <div className="bg-white p-6 rounded-lg shadow-sm space-y-4">
            <ul className="list-disc pl-6 space-y-2">
              <li>an internal striving or urge to do something. <span className="text-gray-500 text-sm block" dir="rtl">سعي داخلي أو دافع للقيام بشيء ما.</span></li>
              <li>is circumstance requiring some Course of action <span className="text-gray-500 text-sm block" dir="rtl">هو ظرف يتطلب مسار عمل معين.</span></li>
            </ul>
            <div className="pt-2">
              <span className="font-bold">Physical needs:</span> Encompass basic life Supplies such as Food, shelter, clothing and opportunities For physical development and essential health care.
              <p className="text-gray-600 text-sm mt-1" dir="rtl"><strong>الحاجات الجسدية:</strong> تشمل إمدادات الحياة الأساسية مثل الغذاء والمأوى والملبس وفرص النمو البدني والرعاية الصحية الأساسية.</p>
            </div>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Human needs according to Maslow :-</h3>
          <div className="space-y-4">
            <div className="bg-blue-50 p-4 rounded-lg">
              <h4 className="font-bold text-lg text-blue-900">1- The First level: physiological or basic needs.:</h4>
              <p className="mt-2">this level refers to bodily needs revolve around Physiological necessities such as the need for Food, water, shelter and sleep etc</p>
              <p className="text-gray-600 text-sm mt-2 border-t pt-2" dir="rtl"><strong>1- المستوى الأول: الحاجات الفسيولوجية أو الأساسية:</strong> يشير هذا المستوى إلى الحاجات الجسدية التي تدور حول الضرورات الفسيولوجية مثل الحاجة للطعام والماء والمأوى والنوم وما إلى ذلك.</p>
            </div>
            <div className="bg-blue-50 p-4 rounded-lg">
              <h4 className="font-bold text-lg text-blue-900">2- The second level (safety needs):</h4>
              <p className="mt-2">include actual physical safety as well as a feeling of being safe from both physical and emotional injury. entails the need for security, which is satisfied by a safe secure physical and psychological environment.</p>
              <p className="text-gray-600 text-sm mt-2 border-t pt-2" dir="rtl"><strong>2- المستوى الثاني (حاجات الأمان):</strong> تشمل الأمان الجسدي الفعلي بالإضافة إلى الشعور بالأمان من الأذى الجسدي والعاطفي. تستلزم الحاجة للأمن، والتي يتم إشباعها ببيئة جسدية ونفسية آمنة ومستقرة.</p>
            </div>
            <div className="bg-blue-50 p-4 rounded-lg">
              <h4 className="font-bold text-lg text-blue-900">3- The third level (social needs):</h4>
              <p className="mt-2">involves Fulfilling needs For belongingness and love through intimacy and satisfying relationships.</p>
              <p className="text-gray-600 text-sm mt-2 border-t pt-2" dir="rtl"><strong>3- المستوى الثالث (الحاجات الاجتماعية):</strong> يتضمن تلبية الحاجات للانتماء والحب من خلال الحميمية والعلاقات المرضية.</p>
            </div>
            <div className="bg-blue-50 p-4 rounded-lg">
              <h4 className="font-bold text-lg text-blue-900">4- The Fourth Level (esteem needs):</h4>
              <p className="mt-2">including Feeling of Competence and a sense of Personal worth derived From recognition of accomplishment.</p>
              <p className="text-gray-600 text-sm mt-2 border-t pt-2" dir="rtl"><strong>4- المستوى الرابع (حاجات التقدير):</strong> بما في ذلك الشعور بالكفاءة والإحساس بالقيمة الشخصية المستمدة من الاعتراف بالإنجاز.</p>
            </div>
            <div className="bg-blue-50 p-4 rounded-lg">
              <h4 className="font-bold text-lg text-blue-900">5- The Firth level (self-actualization):</h4>
              <p className="mt-2">is the process of realizing ones maximal potential marked by a vision that encompasses the whole of humankind.</p>
              <p className="text-gray-600 text-sm mt-2 border-t pt-2" dir="rtl"><strong>5- المستوى الخامس (تحقيق الذات):</strong> هو عملية إدراك المرء لأقصى إمكاناته وتميزه برؤية تشمل البشرية جمعاء.</p>
            </div>
          </div>
        </section>
      </div>
    )
  },
  {
    id: 4,
    title: "Chapter 4: Health Care (Medical Care)",
    icon: <Activity className="w-5 h-5" />,
    rawText: "Health Care (Medical Care)...",
    quizData: [
      { id: 'c4_q1', type: 'mcq', text: "....... is a professionals help to individuals Cope with the Social Psychological and medical issues resulting from disease.", options: ["school social work", "Feminist social work", "Medical social work", "group social work"], correctAnswer: "Medical social work" },
      { id: 'c4_q2', type: 'mcq', text: "Medical social work is......", options: ["a sub-discipline of social work", "a sub-method of social work", "a sub-model of social work", "nothing From the previous"], correctAnswer: "a sub-discipline of social work" },
      { id: 'c4_q3', type: 'mcq', text: "All of the following is consider general roles of the medical social worker except :.", options: ["crisis intervention", "Grief Counseling", "Changing students' attitudes", "Discharge planning"], correctAnswer: "Changing students' attitudes" },
      { id: 'c4_q4', type: 'mcq', text: "Encompass Basic life supplies such as Food, shelter and clothing...", options: ["Physical needs", "safety needs", "Esteem needs", "social needs"], correctAnswer: "Physical needs" }
    ],
    content: (
      <div className="space-y-6">
        <section className="grid grid-cols-1 md:grid-cols-2 gap-4">
           <div className="bg-white p-4 rounded-lg shadow-sm">
             <h3 className="font-bold text-lg text-blue-800 mb-2">* Medical social work:-</h3>
             <p>IS a Sub-discipline of social work, also known as Hospital social work.</p>
             <p className="text-gray-600 text-sm mt-1" dir="rtl">هو تخصص فرعي للخدمة الاجتماعية، يُعرف أيضًا باسم الخدمة الاجتماعية في المستشفيات.</p>
           </div>
           <div className="bg-white p-4 rounded-lg shadow-sm">
             <h3 className="font-bold text-lg text-blue-800 mb-2">* Medical social services:.</h3>
             <ul className="list-disc pl-5 space-y-2">
               <li>
                 is a professionals help individuals Couples and Families Cope with the Social Psychological Cultural and medical issues resulting From an illness.
                 <p className="text-gray-500 text-xs" dir="rtl">مساعدة مهنية للأفراد والأزواج والأسر للتكيف مع القضايا الاجتماعية والنفسية والثقافية والطبية الناتجة عن المرض.</p>
               </li>
               <li>
                 Professionals in medical social services also help patients Fully utilize medical Care and services.
                 <p className="text-gray-500 text-xs" dir="rtl">المهنيون في الخدمات الاجتماعية الطبية يساعدون المرضى أيضًا على الاستفادة الكاملة من الرعاية والخدمات الطبية.</p>
               </li>
             </ul>
           </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* The Medical care in Developing countries:.</h3>
          <div className="bg-white p-6 rounded-lg shadow-sm">
            <p className="mb-4">The Citizens health is importance to every nation generally, but it is much importance in developing Countries because:</p>
            <p className="text-gray-600 text-sm mb-4" dir="rtl">صحة المواطنين مهمة لكل أمة بشكل عام، لكنها أكثر أهمية في الدول النامية بسبب:</p>
            <ul className="list-decimal pl-6 space-y-3">
              <li>
                The standard of living decrease (not high).
                <span className="block text-gray-500 text-xs" dir="rtl">انخفاض مستوى المعيشة (ليس مرتفعًا).</span>
              </li>
              <li>
                There are many demands on wages and earning of citizens.
                <span className="block text-gray-500 text-xs" dir="rtl">هناك العديد من المطالب على أجور ودخل المواطنين.</span>
              </li>
              <li>
                Developing Countries Fighting an up-kill battel to raise their economic and social standards need every once of their Peoples energies to push.
                <span className="block text-gray-500 text-xs" dir="rtl">الدول النامية تخوض معركة شاقة لرفع معاييرها الاقتصادية والاجتماعية وتحتاج لكل ذرة من طاقات شعوبها للدفع قدمًا.</span>
              </li>
            </ul>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Aims Of the Medical Care in Egypt:</h3>
          <ul className="list-disc pl-6 bg-white p-6 rounded-lg shadow-sm space-y-3">
            <li>vertical expansion in health services by raising their quality. <span className="block text-gray-500 text-xs" dir="rtl">التوسع الرأسي في الخدمات الصحية برفع جودتها.</span></li>
            <li>Spreading health guidance and enlighten through the mass media. <span className="block text-gray-500 text-xs" dir="rtl">نشر التوجيه والتوعية الصحية عبر وسائل الإعلام.</span></li>
            <li>promoting and expanding preventive services. <span className="block text-gray-500 text-xs" dir="rtl">تعزيز وتوسيع الخدمات الوقائية.</span></li>
            <li>Stepping-up rural health services as one of the Factors of social development. <span className="block text-gray-500 text-xs" dir="rtl">الارتقاء بالخدمات الصحية الريفية كأحد عوامل التنمية الاجتماعية.</span></li>
            <li>Expanding health services to birth control and Family Planning <span className="block text-gray-500 text-xs" dir="rtl">توسيع الخدمات الصحية لتشمل تحديد النسل وتنظيم الأسرة.</span></li>
            <li>Training the adequate nursing staff. <span className="block text-gray-500 text-xs" dir="rtl">تدريب طاقم التمريض الكافي.</span></li>
            <li>Concerning to visit Foreign technical in aid medical care in priority health Problems <span className="block text-gray-500 text-xs" dir="rtl">الاهتمام بزيارة الخبراء الفنيين الأجانب للمساعدة في الرعاية الطبية في المشكلات الصحية ذات الأولوية.</span></li>
            <li>Concentrating applied scientific research in priority health problems. <span className="block text-gray-500 text-xs" dir="rtl">تركيز البحث العلمي التطبيقي في المشكلات الصحية ذات الأولوية.</span></li>
          </ul>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Medical social worker:.</h3>
          <div className="bg-white p-6 rounded-lg shadow-sm space-y-4">
            <div>
               <p>medical social workers assess the Psychosocial Functioning of Patients and Families and intervene as necessary Interventions may include Connecting Patients and Families to necessary resources and supports in the Community; providing Psychotherapy, supportive Counseling, or grief counseling; or helping a patient to expand and strengthen their network of social Support</p>
               <p className="text-gray-600 text-sm mt-1 border-t pt-1" dir="rtl">يقيم الأخصائيون الاجتماعيون الطبيون الأداء النفسي والاجتماعي للمرضى والأسر ويتدخلون حسب الضرورة. قد تشمل التدخلات ربط المرضى والأسر بالموارد والدعم اللازم في المجتمع؛ تقديم العلاج النفسي، أو المشورة الداعمة، أو استشارات الحزن؛ أو مساعدة المريض على توسيع وتقوية شبكة الدعم الاجتماعي الخاصة به.</p>
            </div>
            <div>
               <p>Medical social workers typically work on an interdisciplinary team with professionals of other disciplines (such as medicine, nursing, physical, Occupational, speech and recreational is treatment and prevention of the illness.</p>
               <p className="text-gray-600 text-sm mt-1 border-t pt-1" dir="rtl">يعمل الأخصائيون الاجتماعيون الطبيون عادةً ضمن فريق متعدد التخصصات مع مهنيين من تخصصات أخرى (مثل الطب، التمريض، العلاج الطبيعي، الوظيفي، النطق والترفيه في علاج ومنع المرض).</p>
            </div>
            <div>
               <p>They also advice Family Caregivers, Counsel patients, and help Plan For Patients' needs after discharge From hospitals. they may arrange for at home" Services, such as meals-on-wheels or home Care</p>
               <p className="text-gray-600 text-sm mt-1 border-t pt-1" dir="rtl">كما يقدمون المشورة لمقدمي الرعاية الأسرية، وينصحون المرضى، ويساعدون في التخطيط لاحتياجات المرضى بعد الخروج من المستشفيات. قد يرتبون لخدمات "في المنزل"، مثل الوجبات المتنقلة أو الرعاية المنزلية.</p>
            </div>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Roles of the medical social worker in Field of Medical or health care :-</h3>
          <div className="space-y-6">
            <div className="bg-blue-50 p-4 rounded-lg">
              <h4 className="font-bold text-lg mb-2">The General Roles:-</h4>
              <ul className="list-decimal pl-6 space-y-2">
                <li>Discharge Planning <span className="text-gray-500 text-xs block" dir="rtl">تخطيط الخروج.</span></li>
                <li>Crisis Intervention <span className="text-gray-500 text-xs block" dir="rtl">التدخل في الأزمات.</span></li>
                <li>Mental Health Evaluation <span className="text-gray-500 text-xs block" dir="rtl">تقييم الصحة العقلية.</span></li>
                <li>Chemical Dependency Evaluation <span className="text-gray-500 text-xs block" dir="rtl">تقييم الاعتماد الكيميائي (الإدمان).</span></li>
                <li>Short term decision making Counseling <span className="text-gray-500 text-xs block" dir="rtl">استشارات اتخاذ القرار قصير المدى.</span></li>
                <li>Facilitating support group (ex. Cancer support group ethical decision-making Counseling) <span className="text-gray-500 text-xs block" dir="rtl">تيسير مجموعات الدعم (مثل مجموعة دعم مرضى السرطان، استشارات اتخاذ القرار الأخلاقي).</span></li>
                <li>Grief Counseling <span className="text-gray-500 text-xs block" dir="rtl">استشارات الحزن.</span></li>
                <li>Speciality evaluations and coordination such as on Rental Transplant team. <span className="text-gray-500 text-xs block" dir="rtl">التقييمات المتخصصة والتنسيق مثل فريق زراعة الأعضاء.</span></li>
                <li>Child Abuse investigation and reporting. <span className="text-gray-500 text-xs block" dir="rtl">التحقيق في إساءة معاملة الأطفال والإبلاغ عنها.</span></li>
              </ul>
            </div>
          </div>
        </section>
      </div>
    )
  },
  {
    id: 5,
    title: "Chapter 5: Family and children",
    icon: <Home className="w-5 h-5" />,
    rawText: "Family and children. The words: Social activities, home life, Correction, urban communities, rural communities, Faster Care, accept, situation, Practice, Condition, Satisfaction, the condition emerger, child neglect, Centre clinic, enhance, Perception, Concerns, Participate, Requires, unemployment, Provide...",
    quizData: [
      { id: 'c5_q1', type: 'mcq', text: "In this role, the family social worker allows the family to expand opportunities and informs them about services:", options: ["Empathic supporter", "The Teacher/Trainer Role", "The enabler role", "The mediator role"], correctAnswer: "The enabler role" },
      { id: 'c5_q2', type: 'tf', text: "The Family Court is a court of law that hears cases pertaining to conflicts among Family members, such as divorce.", correctAnswer: true },
      { id: 'c5_q3', type: 'matching', text: "Match the Role to Description", pairs: [
        { left: "Empathic supporter", right: "identify and reinforce Family strengths" },
        { left: "The mediator role", right: "addressed stress and Conflict between individuals" },
        { left: "Advocator role", right: "requires activism behave of client Families" }
      ]}
    ],
    content: (
      <div className="space-y-6">
        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* The words:.</h3>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4 bg-white p-4 rounded-lg shadow-sm">
            <ul className="space-y-2">
              <li className="flex justify-between"><span>1. Social activities</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">انشطة اجتماعيه</span></li>
              <li className="flex justify-between"><span>2. home life</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">حياة منزلية</span></li>
              <li className="flex justify-between"><span>3. Correction</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">اصلاحية</span></li>
              <li className="flex justify-between"><span>4. urban communities</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">مجتمعات حضرية</span></li>
              <li className="flex justify-between"><span>5. rural communities</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">مجتمعات ريفية</span></li>
              <li className="flex justify-between"><span>6. Faster Care</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">رعاية سريعة</span></li>
              <li className="flex justify-between"><span>7. accept</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">يقبل</span></li>
              <li className="flex justify-between"><span>8. situation</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">موقف</span></li>
              <li className="flex justify-between"><span>9. Practice</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">ممارسة</span></li>
              <li className="flex justify-between"><span>10. Condition</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">ظروف</span></li>
              <li className="flex justify-between"><span>11. Satisfaction</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">اشباع</span></li>
            </ul>
            <ul className="space-y-2">
              <li className="flex justify-between"><span>12. the condition emerger</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">ظروف طارئة</span></li>
              <li className="flex justify-between"><span>13. child neglect</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">طفل مهمل</span></li>
              <li className="flex justify-between"><span>14. Centre clinic</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">مركز علاجي</span></li>
              <li className="flex justify-between"><span>15. enhance</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">يزيد</span></li>
              <li className="flex justify-between"><span>16. Perception</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">ادراك -وعى</span></li>
              <li className="flex justify-between"><span>17. Concerns</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">اهتمامات</span></li>
              <li className="flex justify-between"><span>18. Participate</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">يشارك</span></li>
              <li className="flex justify-between"><span>19. Requires</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">متطلب</span></li>
              <li className="flex justify-between"><span>20. unemployment</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">البطالة</span></li>
              <li className="flex justify-between"><span>21. Provide</span> <span className="font-arabic text-gray-600 font-bold" dir="rtl">يمد / يزود</span></li>
            </ul>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Introduction:-</h3>
          <div className="bg-white p-6 rounded-lg shadow-sm space-y-4">
            <div>
              <p>social work with children and Families including many activities directed to welfare Family and children, promoting their well-being and working to support children to live with their families.</p>
              <p className="text-gray-600 text-sm mt-1" dir="rtl">الخدمة الاجتماعية مع الأطفال والأسر تشمل العديد من الأنشطة الموجهة لرفاهية الأسرة والأطفال، وتعزيز رفاهيتهم والعمل لدعم الأطفال للعيش مع أسرهم.</p>
            </div>
            <div>
              <p>Social work provide the Families service, such as unemployment of principle wage earner and the illness of one or more members of a Family.</p>
              <p className="text-gray-600 text-sm mt-1" dir="rtl">تقدم الخدمة الاجتماعية خدمات للأسر، مثل حالات بطالة المعيل الأساسي ومرض واحد أو أكثر من أفراد الأسرة.</p>
            </div>
            <div>
              <p>Family and child welfare include different services to Families during an emergency, such as the absence of one or both Parents From the home, other critical situation requiring Family services include unemployment of principle wage earner and the illness of on or more member of a family</p>
              <p className="text-gray-600 text-sm mt-1" dir="rtl">تشمل رعاية الأسرة والطفل خدمات مختلفة للأسر أثناء الطوارئ، مثل غياب أحد الوالدين أو كليهما عن المنزل، وتشمل الحالات الحرجة الأخرى التي تتطلب خدمات عائلية بطالة المعيل الأساسي ومرض واحد أو أكثر من أفراد الأسرة.</p>
            </div>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Roles of the social worker in the Field care of the Family and child:-</h3>
          <div className="space-y-4">
             <div className="bg-blue-50 p-4 rounded-lg">
               <span className="font-bold">1- empathic supporter:</span> in the role of empathic supporter, the guiding philosophy of a family social worker is to identify and reinforce Family strengths while recognizing Family limitation or lack of resource,
               <p className="text-gray-600 text-sm mt-1 border-t pt-1" dir="rtl"><strong>1- الداعم المتعاطف:</strong> في دور الداعم المتعاطف، الفلسفة التوجيهية لأخصائي الأسرة الاجتماعي هي تحديد وتعزيز نقاط قوة الأسرة مع الاعتراف بمحدودية الأسرة أو نقص الموارد.</p>
             </div>
             <div className="bg-blue-50 p-4 rounded-lg">
               <span className="font-bold">2- The Teacher/Trainer Role:</span> allow the Family social worker to cultivate areas where the Family is deficient or lacking in skill or Knowledge Viewing Family problem as the result of skill deficits (or even more palatably) as new skill to be learned.
               <p className="text-gray-600 text-sm mt-1 border-t pt-1" dir="rtl"><strong>2- دور المعلم/المدرب:</strong> يسمح لأخصائي الأسرة بتنمية المجالات التي تعاني فيها الأسرة من نقص أو افتقار في المهارة أو المعرفة، معتبرًا مشكلة الأسرة نتيجة لنقص المهارات (أو بشكل أكثر قبولًا) كمهارة جديدة يجب تعلمها.</p>
             </div>
             <div className="bg-blue-50 p-4 rounded-lg">
               <span className="font-bold">3- The Teaching role:</span> often play out in parents Training intervention and the reaching role involves helping Parents substitute verbal and Physical Punishment with more positive and Constructive Parent-child interactions
               <p className="text-gray-600 text-sm mt-1 border-t pt-1" dir="rtl"><strong>3- دور التدريس:</strong> غالبًا ما يظهر في تدخل تدريب الوالدين، ويتضمن دور الوصول مساعدة الآباء على استبدال العقاب اللفظي والجسدي بتفاعلات أكثر إيجابية وبناءة بين الوالدين والطفل.</p>
             </div>
             <div className="bg-blue-50 p-4 rounded-lg">
               <span className="font-bold">4- The enabler role:</span> allow the Family Social worker to expand opportunities for Family and informing a family about available services and helping them to use these services will empower the family.
               <p className="text-gray-600 text-sm mt-1 border-t pt-1" dir="rtl"><strong>4- دور المُمَكّن:</strong> يسمح لأخصائي الأسرة بتوسيع الفرص للأسرة وإعلام الأسرة بالخدمات المتاحة ومساعدتهم على استخدام هذه الخدمات مما سيمكن الأسرة.</p>
             </div>
             <div className="bg-blue-50 p-4 rounded-lg">
               <span className="font-bold">5- The role of mobilizer:</span> Captures the worker unique position in the social network of helping resources and knowledge able about helping system and community support networks activities and manage the involvement of various Community groups.
               <p className="text-gray-600 text-sm mt-1 border-t pt-1" dir="rtl"><strong>5- دور المعبئ:</strong> يجسد الموقع الفريد للعامل في الشبكة الاجتماعية لموارد المساعدة والمعرفة حول نظام المساعدة وأنشطة شبكات الدعم المجتمعي وإدارة مشاركة مجموعات المجتمع المختلفة.</p>
             </div>
             <div className="bg-blue-50 p-4 rounded-lg">
               <span className="font-bold">6- The mediator role:</span> the family social worker addressed stress and Conflict between individuals and systems mediation can occur at any level of the system, the social worker whose work with the family can mediate solution when the Family is in conflict with the community, mediate between family members in the different conflicts.
               <p className="text-gray-600 text-sm mt-1 border-t pt-1" dir="rtl"><strong>6- دور الوسيط:</strong> يعالج أخصائي الأسرة التوتر والصراع بين الأفراد والأنظمة. يمكن أن تحدث الوساطة على أي مستوى من النظام، ويمكن للأخصائي الاجتماعي الذي يعمل مع الأسرة التوسط في الحل عندما تكون الأسرة في صراع مع المجتمع، أو التوسط بين أفراد الأسرة في النزاعات المختلفة.</p>
             </div>
             <div className="bg-blue-50 p-4 rounded-lg">
               <span className="font-bold">7- Advocator role:</span> this role that requires activism behave of client Families, the social worker is in a unique position to understand how Family problem may be in condition within the broader societal context
               <p className="text-gray-600 text-sm mt-1 border-t pt-1" dir="rtl"><strong>7- دور المدافع:</strong> هذا الدور يتطلب نشاطًا لصالح أسر العملاء، حيث يكون الأخصائي الاجتماعي في وضع فريد لفهم كيف قد تكون مشكلة الأسرة مشروطة ضمن السياق المجتمعي الأوسع.</p>
             </div>
          </div>
        </section>
      </div>
    )
  },
  {
    id: 6,
    title: "Chapter 6: Social work in the field of Handicapped welfare",
    icon: <Users className="w-5 h-5" />,
    rawText: "Social work in the field of Handicapped welfare. Definition of handicapped: Every sensory or physical lack that affects permanently the person's physical, professional and actual ability or affects the person's Performance of his/her social roles...",
    quizData: [
      { id: 'c6_q1', type: 'matching', text: "Match WHO Definitions", pairs: [
        { left: "Impairment", right: "anatomical loss or abnormality of structure" },
        { left: "Disability", right: "Any restriction or prevention of the performance of an activity" },
        { left: "Handicap", right: "a disability that constitutes a disadvantage for a given individual" }
      ]},
      { id: 'c6_q2', type: 'tf', text: "Economic problems facing the handicapped include Having low or no income.", correctAnswer: true },
      { id: 'c6_q3', type: 'mcq', text: "Psychological problems of handicapped include all EXCEPT:", options: ["Excessive feeling of inferiority", "Feeling anxious", "Lack of emotional balance", "unavailability of special schools"], correctAnswer: "unavailability of special schools" }
    ],
    content: (
      <div className="space-y-6">
        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Definition of handicapped:.</h3>
          <div className="bg-white p-6 rounded-lg shadow-sm space-y-4">
            <p>Every sensory or physical lack that affects permanently the person's physical, professional and actual ability or affects the person's Performance of his/her social roles.</p>
            <p className="text-gray-600 text-sm mt-1" dir="rtl">كل نقص حسي أو جسدي يؤثر بشكل دائم على قدرة الشخص الجسدية والمهنية والفعلية أو يؤثر على أداء الشخص لأدواره الاجتماعية.</p>
            <p>These obstacles Can be overcome by rehabilitating the handicapped. The handicapped though there are handicaffed individuals also is that People Can't be ground in this way, for each person has his/her own Physical disability to meet and each problem overcome if at all possible</p>
            <p className="text-gray-600 text-sm mt-1" dir="rtl">يمكن التغلب على هذه العقبات من خلال إعادة تأهيل المعاقين.</p>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* The WHO defined the following:</h3>
          <div className="space-y-4">
            <div className="bg-blue-50 p-4 rounded-lg">
               <span className="font-bold">Impairment:</span> a permanent or transitory Psychological Physiological or anatomical loss or abnormality of structure or function.
               <p className="text-gray-600 text-sm mt-1 border-t pt-1" dir="rtl"><strong>الضعف/الخلل:</strong> فقدان دائم أو مؤقت نفسي أو فسيولوجي أو تشريحي أو شذوذ في التركيب أو الوظيفة.</p>
            </div>
            <div className="bg-blue-50 p-4 rounded-lg">
               <span className="font-bold">Disability:</span> Any restriction or prevention of the performance of an activity result in From an impairment in the manner • or within the range considered normal for human being.
               <p className="text-gray-600 text-sm mt-1 border-t pt-1" dir="rtl"><strong>العجز:</strong> أي تقييد أو منع لأداء نشاط ناتج عن ضعف بالطريقة أو ضمن النطاق الذي يعتبر طبيعيًا للإنسان.</p>
            </div>
            <div className="bg-blue-50 p-4 rounded-lg">
               <span className="font-bold">Handicap:</span> a disability that constitutes a disadvantage for a given individual in that limits of prevents the Fullfilment of the role that is normal depending generally age, sex, social and culture Factors, for the individual.
               <p className="text-gray-600 text-sm mt-1 border-t pt-1" dir="rtl"><strong>الإعاقة:</strong> عجز يشكل عائقًا لفرد معين من حيث أنه يحد أو يمنع أداء الدور الذي يعتبر طبيعيًا (اعتمادًا بشكل عام على العمر والجنس والعوامل الاجتماعية والثقافية) للفرد.</p>
            </div>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Problems Facing the handicapped:.</h3>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
             <div className="bg-white p-4 rounded shadow">
               <h4 className="font-bold text-red-700 mb-2">1- Economic problems:-</h4>
               <ul className="list-disc pl-5">
                 <li>affording treatment expenses. <span className="text-gray-500 text-xs block" dir="rtl">تحمل نفقات العلاج.</span></li>
                 <li>Having low or no income <span className="text-gray-500 text-xs block" dir="rtl">انخفاض أو انعدام الدخل.</span></li>
               </ul>
             </div>
             <div className="bg-white p-4 rounded shadow">
               <h4 className="font-bold text-red-700 mb-2">2- Family and social problems:.</h4>
               <ul className="list-disc pl-5">
                 <li>Disorders in the person's relation inside or outside Family. <span className="text-gray-500 text-xs block" dir="rtl">اضطرابات في علاقة الشخص داخل أو خارج الأسرة.</span></li>
                 <li>Deficiencies in the Performance of social roles. <span className="text-gray-500 text-xs block" dir="rtl">قصور في أداء الأدوار الاجتماعية.</span></li>
               </ul>
             </div>
          </div>
        </section>
      </div>
    )
  },
  {
    id: 7,
    title: "Chapter 7: The school social work",
    icon: <School className="w-5 h-5" />,
    rawText: "The school social work. Introduction: The schools provide a formative experience For children. schools can be a haven or horrible and dreaded place, depending on the child's experiences. This chapter focuses on the multifaceted role of the school social worker and the ways school social worker can utilize their knowledge, skills and values to improve the lives of students...",
    quizData: [
      { id: 'c7_q1', type: 'mcq', text: "The main goal of school social work is:", options: ["To enable students to Function and learn in The school environment", "To teach math", "To discipline students only", "To ignore problems"], correctAnswer: "To enable students to Function and learn in The school environment" },
      { id: 'c7_q2', type: 'tf', text: "School social workers visit the home of student only when parents invite them.", correctAnswer: false }, 
      { id: 'c7_q3', type: 'matching', text: "Match Skills", pairs: [
        { left: "Assessment", right: "The ability properly to assess and treat student" },
        { left: "Home Visits", right: "visit the home of student for various reasons" },
        { left: "Counseling individuals", right: "help students with emotional and behavioral problems adjust" }
      ]}
    ],
    content: (
      <div className="space-y-6">
        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* Introduction:-</h3>
          <div className="bg-white p-6 rounded-lg shadow-sm space-y-4">
            <p>The schools provide a formative experience For children. schools can be a haven or horrible and dreaded place, depending on the child's experiences. This chapter focuses on the multifaceted role of the school social worker and the ways school social worker can utilize their knowledge, skills and values to improve the lives of students.</p>
            <p className="text-gray-600 text-sm mt-1" dir="rtl">توفر المدارس تجربة تكوينية للأطفال. يمكن أن تكون المدارس ملاذًا أو مكانًا فظيعًا ومخيفًا، اعتمادًا على تجارب الطفل. يركز هذا الفصل على الدور متعدد الأوجه للأخصائي الاجتماعي المدرسي والطرق التي يمكن للأخصائي الاجتماعي المدرسي الاستفادة من معرفته ومهاراته وقيمه لتحسين حياة الطلاب.</p>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* The aims (goals) school social work:</h3>
          <div className="bg-white p-6 rounded-lg shadow-sm">
            <p className="mb-4">The main goal of school social work is To enable students to Function and learn in The school environment.</p>
            <p className="text-gray-600 text-sm mb-4" dir="rtl">الهدف الرئيسي للخدمة الاجتماعية المدرسية هو تمكين الطلاب من العمل والتعلم في بيئة المدرسة.</p>
            <ul className="list-decimal pl-6 space-y-3">
              <li>Helping the children, Pupils and students to achievement their maximum potential in education. <span className="text-gray-500 text-xs block" dir="rtl">مساعدة الأطفال والتلاميذ والطلاب لتحقيق أقصى إمكاناتهم في التعليم.</span></li>
              <li>Helping the students to satisfy their deferent needs. <span className="text-gray-500 text-xs block" dir="rtl">مساعدة الطلاب على تلبية احتياجاتهم المختلفة.</span></li>
              <li>Enhancing skills to dealing from their problems <span className="text-gray-500 text-xs block" dir="rtl">تعزيز مهارات التعامل مع مشاكلهم.</span></li>
              <li>Improving the quality education and the achievement goals of education. <span className="text-gray-500 text-xs block" dir="rtl">تحسين جودة التعليم وتحقيق أهداف التعليم.</span></li>
            </ul>
          </div>
        </section>

        <section>
          <h3 className="text-xl font-bold text-blue-800 mb-4">* The roles of school social worker:</h3>
          <div className="bg-white p-6 rounded-lg shadow-sm space-y-4">
            <ul className="list-disc pl-6 space-y-3">
               <li>Consultation with others in the school system as a member of a team <span className="text-gray-500 text-xs block" dir="rtl">التشاور مع الآخرين في النظام المدرسي كعضو في الفريق.</span></li>
               <li>Assessment applied to a variety of different roles in direct service, Consultation, and program development. <span className="text-gray-500 text-xs block" dir="rtl">التقييم المطبق على مجموعة متنوعة من الأدوار المختلفة في الخدمة المباشرة، الاستشارة، وتطوير البرامج.</span></li>
               <li>Direct intervention with children and Parents in individual; group and family modalities. <span className="text-gray-500 text-xs block" dir="rtl">التدخل المباشر مع الأطفال والآباء في طرائق فردية؛ جماعية وأسرية.</span></li>
               <li>Aid student and parents in accessing consoling, support and recreation. <span className="text-gray-500 text-xs block" dir="rtl">مساعدة الطالب والآباء في الوصول إلى المشورة والدعم والترفيه.</span></li>
               <li>Advocate for student and families with schools and services <span className="text-gray-500 text-xs block" dir="rtl">الدفاع عن الطالب والأسر مع المدارس والخدمات.</span></li>
            </ul>
          </div>
        </section>
      </div>
    )
  }
];


export default function App() {
  const [activeChapter, setActiveChapter] = useState(chaptersData[0]);
  const [isSidebarOpen, setIsSidebarOpen] = useState(true);
  const [activeTab, setActiveTab] = useState('study'); // 'study' or 'quiz'

  return (
    <div className="flex h-screen bg-gray-100 font-sans text-gray-800 overflow-hidden relative selection:bg-blue-200 selection:text-blue-900">
      {/* Floating Tools */}
      <TextSelectionTool />

      {/* Sidebar Overlay */}
      <div 
        className={`fixed inset-0 z-20 bg-black bg-opacity-50 transition-opacity lg:hidden ${isSidebarOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`} 
        onClick={() => setIsSidebarOpen(false)}
      />
      
      {/* Sidebar */}
      <div className={`fixed inset-y-0 left-0 z-30 w-64 bg-white shadow-xl transform transition-transform lg:translate-x-0 lg:static lg:inset-auto flex flex-col ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'}`}>
        <div className="p-6 border-b flex justify-between items-center bg-blue-900 text-white">
          <div className="flex items-center space-x-2">
            <GraduationCap className="w-6 h-6" />
            <h1 className="font-bold text-lg">Social Work</h1>
          </div>
          <button onClick={() => setIsSidebarOpen(false)} className="lg:hidden text-white">
            <X className="w-6 h-6" />
          </button>
        </div>
        
        <div className="flex-1 overflow-y-auto p-4 space-y-2">
          {chaptersData.map((chapter) => (
            <button
              key={chapter.id}
              onClick={() => {
                setActiveChapter(chapter);
                setActiveTab('study'); // Reset tab on chapter change
                if (window.innerWidth < 1024) setIsSidebarOpen(false);
              }}
              className={`w-full flex items-center p-3 rounded-lg text-left transition-colors ${
                activeChapter.id === chapter.id
                  ? 'bg-blue-100 text-blue-900 font-semibold shadow-sm ring-1 ring-blue-200'
                  : 'hover:bg-gray-50 text-gray-700'
              }`}
            >
              <span className={`mr-3 ${activeChapter.id === chapter.id ? 'text-blue-700' : 'text-gray-400'}`}>
                {chapter.icon}
              </span>
              <span className="text-sm line-clamp-2">{chapter.title}</span>
              {activeChapter.id === chapter.id && <ChevronRight className="w-4 h-4 ml-auto text-blue-500" />}
            </button>
          ))}
        </div>
        <div className="p-4 border-t text-xs text-gray-500 text-center">
           حدد نصاً للترجمة أو النطق 🔊
        </div>
      </div>

      {/* Main Content */}
      <div className="flex-1 flex flex-col h-full overflow-hidden w-full relative">
        <header className="bg-white shadow-sm p-4 flex flex-col md:flex-row md:items-center justify-between gap-4 z-10">
          <div className="flex items-center">
            <button 
              onClick={() => setIsSidebarOpen(!isSidebarOpen)}
              className="p-2 rounded-md hover:bg-gray-100 lg:hidden mr-4"
            >
              <Menu className="w-6 h-6 text-gray-600" />
            </button>
            <h2 className="text-xl font-bold text-gray-800 line-clamp-1">{activeChapter.title}</h2>
          </div>
          
          {/* Tab Switcher */}
          <div className="flex bg-gray-100 p-1 rounded-lg">
             <button 
               onClick={() => setActiveTab('study')}
               className={`px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2 ${activeTab === 'study' ? 'bg-white shadow text-blue-700' : 'text-gray-500 hover:text-gray-700'}`}
             >
               <Book className="w-4 h-4" />
               مذاكرة
             </button>
             <button 
               onClick={() => setActiveTab('quiz')}
               className={`px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center gap-2 ${activeTab === 'quiz' ? 'bg-white shadow text-indigo-700' : 'text-gray-500 hover:text-gray-700'}`}
             >
               <CheckCircle className="w-4 h-4" />
               اختبار
             </button>
          </div>
        </header>

        <main className="flex-1 overflow-y-auto p-4 md:p-8 bg-gray-100">
          <div className="max-w-4xl mx-auto min-h-full">
            {activeTab === 'study' ? (
              <div className="bg-white shadow-lg rounded-xl p-6 md:p-10 animate-in fade-in slide-in-from-bottom-4 duration-300">
                 {activeChapter.content}
                 <div className="mt-8 pt-8 border-t text-center">
                    <button onClick={() => setActiveTab('quiz')} className="text-blue-600 hover:underline flex items-center justify-center gap-2 mx-auto">
                      انتهيت من القراءة؟ انتقل للاختبار <ChevronRight className="w-4 h-4" />
                    </button>
                 </div>
              </div>
            ) : (
              <div className="animate-in fade-in slide-in-from-bottom-4 duration-300">
                <QuizSection 
                  key={activeChapter.id} // Force reset on chapter change
                  chapterTitle={activeChapter.title}
                  initialQuestions={activeChapter.quizData || []}
                  rawText={activeChapter.rawText || "No text available"}
                />
              </div>
            )}
            <div className="h-10"></div>
          </div>
        </main>
      </div>
    </div>
  );
}